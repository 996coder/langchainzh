 How to stream LLM and Chat Model responses
 [#](#how-to-stream-llm-and-chat-model-responses "Permalink to this headline")
===========================================================================================================================
 LangChain provides streaming support for LLMs. Currently, we support streaming for the
 `OpenAI`
 ,
 `ChatOpenAI`
 . and
 `Anthropic`
 implementations, but streaming support for other LLM implementations is on the roadmap. To utilize streaming, use a
 [`CallbackHandler`](https://github.com/hwchase17/langchain/blob/master/langchain/callbacks/base.py)
 that implements
 `on\_llm\_new\_token`
 . In this example, we are using
`StreamingStdOutCallbackHandler`
 .
```
from langchain.llms import OpenAI, Anthropic
from langchain.chat\_models import ChatOpenAI
from langchain.callbacks.base import CallbackManager
from langchain.callbacks.streaming\_stdout import StreamingStdOutCallbackHandler
from langchain.schema import HumanMessage
```
```
llm = OpenAI(streaming=True, callback\_manager=CallbackManager([StreamingStdOutCallbackHandler()]), verbose=True, temperature=0)
resp = llm("Write me a song about sparkling water.")
```
```
Verse 1
I'm sippin' on sparkling water,
It's so refreshing and light,
It's the perfect way to quench my thirst
On a hot summer night.
Chorus
Sparkling water, sparkling water,
It's the best way to stay hydrated,
It's so crisp and so clean,
It's the perfect way to stay refreshed.
Verse 2
I'm sippin' on sparkling water,
It's so bubbly and bright,
It's the perfect way to cool me down
On a hot summer night.
Chorus
Sparkling water, sparkling water,
It's the best way to stay hydrated,
It's so crisp and so clean,
It's the perfect way to stay refreshed.
Verse 3
I'm sippin' on sparkling water,
It's so light and so clear,
It's the perfect way to keep me cool
On a hot summer night.
Chorus
Sparkling water, sparkling water,
It's the best way to stay hydrated,
It's so crisp and so clean,
It's the perfect way to stay refreshed.
```
 We still have access to the end
 `LLMResult`
 if using
 `generate`
 . However,
 `token\_usage`
 is not currently supported for streaming.
```
llm.generate(["Tell me a joke."])
```
```
Q: What did the fish say when it hit the wall?
A: Dam!
```
```
LLMResult(generations=[[Generation(text='\n\nQ: What did the fish say when it hit the wall?\nA: Dam!', generation_info={'finish_reason': None, 'logprobs': None})]], llm_output={'token_usage': {}, 'model_name': 'text-davinci-003'})
```
 Hereâ€™s an example with the
 `ChatOpenAI`
 chat model implementation:
```
chat = ChatOpenAI(streaming=True, callback\_manager=CallbackManager([StreamingStdOutCallbackHandler()]), verbose=True, temperature=0)
resp = chat([HumanMessage(content="Write me a song about sparkling water.")])
```
```
Verse 1:
Bubbles rising to the top
A refreshing drink that never stops
Clear and crisp, it's oh so pure
Sparkling water, I can't ignore
Chorus:
Sparkling water, oh how you shine
A taste so clean, it's simply divine
You quench my thirst, you make me feel alive
Sparkling water, you're my favorite vibe
Verse 2:
No sugar, no calories, just H2O
A drink that's good for me, don't you know
With lemon or lime, you're even better
Sparkling water, you're my forever
Chorus:
Sparkling water, oh how you shine
A taste so clean, it's simply divine
You quench my thirst, you make me feel alive
Sparkling water, you're my favorite vibe
Bridge:
You're my go-to drink, day or night
You make me feel so light
I'll never give you up, you're my true love
Sparkling water, you're sent from above
Chorus:
Sparkling water, oh how you shine
A taste so clean, it's simply divine
You quench my thirst, you make me feel alive
Sparkling water, you're my favorite vibe
Outro:
Sparkling water, you're the one for me
I'll never let you go, can't you see
You're my drink of choice, forevermore
Sparkling water, I adore.
```
 Here is an example with the
 `Anthropic`
 LLM implementation, which uses their
 `claude`
 model.
```
llm = Anthropic(streaming=True, callback\_manager=CallbackManager([StreamingStdOutCallbackHandler()]), verbose=True, temperature=0)
llm("Write me a song about sparkling water.")
```
```
Sparkling water, bubbles so bright,
Fizzing and popping in the light.
No sugar or calories, a healthy delight,
Sparkling water, refreshing and light.
Carbonation that tickles the tongue,
In flavors of lemon and lime unsung.
Sparkling water, a drink quite all right,
Bubbles sparkling in the light.
```
```
'\nSparkling water, bubbles so bright,\n\nFizzing and popping in the light.\n\nNo sugar or calories, a healthy delight,\n\nSparkling water, refreshing and light.\n\nCarbonation that tickles the tongue,\n\nIn flavors of lemon and lime unsung.\n\nSparkling water, a drink quite all right,\n\nBubbles sparkling in the light.'
```