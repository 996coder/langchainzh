自定义带有工具检索的代理
[#]（#custom-agent-with-tool-retrieval“此标题的永久链接”）
=======================================================================================================



这个笔记本基于
[这个笔记本]（custom_llm_agent）
并假设熟悉代理如何工作。
 



在这个笔记本中引入的新思想是使用检索来选择要用于回答代理查询的工具集。当您有许多工具可供选择时，这非常有用。您无法在提示中放置所有工具的描述（由于上下文长度问题），因此您会在运行时动态选择要考虑使用的N个工具。
 



在这个笔记本中，我们将创建一个有点牵强的示例。我们将有一个合法的工具（搜索）和99个虚假工具，这些工具只是胡言乱语。然后，我们将在提示模板中添加一步，以获取用户输入并检索与查询相关的工具。
 




设置e